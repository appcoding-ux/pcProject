<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout/basic.html}">
<head>
    <meta charset="UTF-8">
    <title>관리자 페이지</title>
    <link rel="stylesheet" th:href="@{/css/adminPage.css}">
    <link rel="stylesheet" th:href="@{/css/adminFoodPage.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.css'>
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Dosis:400:500:600'>
    <link rel="dns-prefetch" href="//unpkg.com" />
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net" />
    <link rel="stylesheet" href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css">
    <link rel="stylesheet" href="/css/indexPage.css">
    <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.3.1/css/solid.css'>
    <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.3.1/css/fontawesome.css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
    <link rel='stylesheet' href='https://codepen.io/cmalven/pen/qBaQJWK.css'>
</head>

<div layout:fragment="content">
    <div class="wrapper" >
        <div class="left-side">
            <svg viewBox="0 0 512 512" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="active">
                <path d="M197.3 170.7h-160A37.4 37.4 0 010 133.3v-96A37.4 37.4 0 0137.3 0h160a37.4 37.4 0 0137.4 37.3v96a37.4 37.4 0 01-37.4 37.4zM37.3 32c-3 0-5.3 2.4-5.3 5.3v96c0 3 2.4 5.4 5.3 5.4h160c3 0 5.4-2.4 5.4-5.4v-96c0-3-2.4-5.3-5.4-5.3zm0 0M197.3 512h-160A37.4 37.4 0 010 474.7v-224a37.4 37.4 0 0137.3-37.4h160a37.4 37.4 0 0137.4 37.4v224a37.4 37.4 0 01-37.4 37.3zm-160-266.7c-3 0-5.3 2.4-5.3 5.4v224c0 3 2.4 5.3 5.3 5.3h160c3 0 5.4-2.4 5.4-5.3v-224c0-3-2.4-5.4-5.4-5.4zm0 0M474.7 512h-160a37.4 37.4 0 01-37.4-37.3v-96a37.4 37.4 0 0137.4-37.4h160a37.4 37.4 0 0137.3 37.4v96a37.4 37.4 0 01-37.3 37.3zm-160-138.7c-3 0-5.4 2.4-5.4 5.4v96c0 3 2.4 5.3 5.4 5.3h160c3 0 5.3-2.4 5.3-5.3v-96c0-3-2.4-5.4-5.3-5.4zm0 0M474.7 298.7h-160a37.4 37.4 0 01-37.4-37.4v-224A37.4 37.4 0 01314.7 0h160A37.4 37.4 0 01512 37.3v224a37.4 37.4 0 01-37.3 37.4zM314.7 32c-3 0-5.4 2.4-5.4 5.3v224c0 3 2.4 5.4 5.4 5.4h160c3 0 5.3-2.4 5.3-5.4v-224c0-3-2.4-5.3-5.3-5.3zm0 0" /></svg>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" /></svg>
            <svg viewBox="0 1 511 512" fill="currentColor">
                <path d="M498.7 222.7L289.8 13.8a46.8 46.8 0 00-66.7 0L14.4 222.6l-.2.2A47.2 47.2 0 0047 303h8.3v153.7a55.2 55.2 0 0055.2 55.2h81.7a15 15 0 0015-15V376.5a25.2 25.2 0 0125.2-25.2h48.2a25.2 25.2 0 0125.1 25.2V497a15 15 0 0015 15h81.8a55.2 55.2 0 0055.1-55.2V303.1h7.7a47.2 47.2 0 0033.4-80.4zm-21.2 45.4a17 17 0 01-12.2 5h-22.7a15 15 0 00-15 15v168.7a25.2 25.2 0 01-25.1 25.2h-66.8V376.5a55.2 55.2 0 00-55.1-55.2h-48.2a55.2 55.2 0 00-55.2 55.2V482h-66.7a25.2 25.2 0 01-25.2-25.2V288.1a15 15 0 00-15-15h-23A17.2 17.2 0 0135.5 244L244.4 35a17 17 0 0124.2 0l208.8 208.8v.1a17.2 17.2 0 010 24.2zm0 0" /></svg>
            <svg viewBox="0 0 512 512" fill="currentColor">
                <path d="M467 76H45a45 45 0 00-45 45v270a45 45 0 0045 45h422a45 45 0 0045-45V121a45 45 0 00-45-45zm-6.3 30L287.8 278a44.7 44.7 0 01-63.6 0L51.3 106h409.4zM30 384.9V127l129.6 129L30 384.9zM51.3 406L181 277.2l22 22c14.2 14.1 33 22 53.1 22 20 0 38.9-7.9 53-22l22-22L460.8 406H51.3zM482 384.9L352.4 256 482 127V385z" /></svg>
            <svg viewBox="0 0 512 512" fill="currentColor">
                <path d="M272 512h-32c-26 0-47.2-21.1-47.2-47.1V454c-11-3.5-21.8-8-32.1-13.3l-7.7 7.7a47.1 47.1 0 01-66.7 0l-22.7-22.7a47.1 47.1 0 010-66.7l7.7-7.7c-5.3-10.3-9.8-21-13.3-32.1H47.1c-26 0-47.1-21.1-47.1-47.1v-32.2c0-26 21.1-47.1 47.1-47.1H58c3.5-11 8-21.8 13.3-32.1l-7.7-7.7a47.1 47.1 0 010-66.7l22.7-22.7a47.1 47.1 0 0166.7 0l7.7 7.7c10.3-5.3 21-9.8 32.1-13.3V47.1c0-26 21.1-47.1 47.1-47.1h32.2c26 0 47.1 21.1 47.1 47.1V58c11 3.5 21.8 8 32.1 13.3l7.7-7.7a47.1 47.1 0 0166.7 0l22.7 22.7a47.1 47.1 0 010 66.7l-7.7 7.7c5.3 10.3 9.8 21 13.3 32.1h10.9c26 0 47.1 21.1 47.1 47.1v32.2c0 26-21.1 47.1-47.1 47.1H454c-3.5 11-8 21.8-13.3 32.1l7.7 7.7a47.1 47.1 0 010 66.7l-22.7 22.7a47.1 47.1 0 01-66.7 0l-7.7-7.7c-10.3 5.3-21 9.8-32.1 13.3v10.9c0 26-21.1 47.1-47.1 47.1zM165.8 409.2a176.8 176.8 0 0045.8 19 15 15 0 0111.3 14.5V465c0 9.4 7.7 17.1 17.1 17.1h32.2c9.4 0 17.1-7.7 17.1-17.1v-22.2a15 15 0 0111.3-14.5c16-4.2 31.5-10.6 45.8-19a15 15 0 0118.2 2.3l15.7 15.7a17.1 17.1 0 0024.2 0l22.8-22.8a17.1 17.1 0 000-24.2l-15.7-15.7a15 15 0 01-2.3-18.2 176.8 176.8 0 0019-45.8 15 15 0 0114.5-11.3H465c9.4 0 17.1-7.7 17.1-17.1v-32.2c0-9.4-7.7-17.1-17.1-17.1h-22.2a15 15 0 01-14.5-11.2c-4.2-16.1-10.6-31.6-19-45.9a15 15 0 012.3-18.2l15.7-15.7a17.1 17.1 0 000-24.2l-22.8-22.8a17.1 17.1 0 00-24.2 0l-15.7 15.7a15 15 0 01-18.2 2.3 176.8 176.8 0 00-45.8-19 15 15 0 01-11.3-14.5V47c0-9.4-7.7-17.1-17.1-17.1h-32.2c-9.4 0-17.1 7.7-17.1 17.1v22.2a15 15 0 01-11.3 14.5c-16 4.2-31.5 10.6-45.8 19a15 15 0 01-18.2-2.3l-15.7-15.7a17.1 17.1 0 00-24.2 0l-22.8 22.8a17.1 17.1 0 000 24.2l15.7 15.7a15 15 0 012.3 18.2 176.8 176.8 0 00-19 45.8 15 15 0 01-14.5 11.3H47c-9.4 0-17.1 7.7-17.1 17.1v32.2c0 9.4 7.7 17.1 17.1 17.1h22.2a15 15 0 0114.5 11.3c4.2 16 10.6 31.5 19 45.8a15 15 0 01-2.3 18.2l-15.7 15.7a17.1 17.1 0 000 24.2l22.8 22.8a17.1 17.1 0 0024.2 0l15.7-15.7a15 15 0 0118.2-2.3z" />
                <path d="M256 367.4c-61.4 0-111.4-50-111.4-111.4s50-111.4 111.4-111.4 111.4 50 111.4 111.4-50 111.4-111.4 111.4zm0-192.8a81.5 81.5 0 000 162.8 81.5 81.5 0 000-162.8z" /></svg>
            <svg viewBox="0 0 512 512" fill="currentColor" class="adminLogout">
                <path d="M255.2 468.6H63.8a21.3 21.3 0 01-21.3-21.2V64.6c0-11.7 9.6-21.2 21.3-21.2h191.4a21.2 21.2 0 100-42.5H63.8A63.9 63.9 0 000 64.6v382.8A63.9 63.9 0 0063.8 511H255a21.2 21.2 0 100-42.5z" />
                <path d="M505.7 240.9L376.4 113.3a21.3 21.3 0 10-29.9 30.3l92.4 91.1H191.4a21.2 21.2 0 100 42.6h247.5l-92.4 91.1a21.3 21.3 0 1029.9 30.3l129.3-127.6a21.3 21.3 0 000-30.2z" /></svg>
        </div>

        <div class="main-container">
            <div class="header">
                <div class="logo">ADMIN</div>
                <a class="header-link" href="/admin/seat">
                    <i class="fa-solid fa-chair"></i>
                    자리
                </a>
                <a class="header-link active" href="#">
                    <i class="fa-solid fa-utensils"></i>
                    음식
                </a>
                <a class="header-link" href="/admin/sale">
                    <i class="fa-solid fa-chart-simple"></i>
                    판매내역
                </a>
                <a class="header-link" href="/admin/member">
                    <i class="fa-solid fa-user"></i>
                    회원관리
                </a>
                <a class="header-link" href="/admin/qna">
                    <i class="fa-solid fa-q"></i>
                    문의관리
                </a>
            </div>

            <div class="foodListWrap">
                <form action="/admin/food" method="get" id="foodForm">
                    <h1 class="text-3xl py-4 border-b mb-10" style="padding-left:90px;">음식관리</h1>

                    <div class="mb-4 flex justify-between items-center" style="padding-left:90px;">
                        <div class="flex-1 pr-4 flex">
                            <div class="relative md:w-1/3">
                                <input type="search"
                                       class="w-full pl-10 pr-4 py-2 rounded-lg shadow focus:outline-none focus:shadow-outline text-gray-600 font-medium"
                                       placeholder="Search..." name="keyword" th:value="${pageRequestDTO.keyword}">

                                <div class="absolute top-0 left-0 inline-flex items-center p-2">
                                    <i class="fa-solid fa-magnifying-glass"></i>
                                </div>
                            </div>

                            <div id="app-cover">
                                <div id="select-button" class="brd">
                                    <div id="selected-value">
                                        <span th:text="${pageRequestDTO.category != null ? pageRequestDTO.category : '음식 카테고리'}">음식 카테고리</span>
                                    </div>
                                    <div id="chevrons">
                                        <i class="fas fa-chevron-up"></i>
                                        <i class="fas fa-chevron-down"></i>
                                    </div>
                                </div>
                                <div id="options">
                                    <div class="option">
                                        <input class="s-c top" type="radio">
                                        <input class="s-c bottom" type="radio">
                                        <span class="label">전체</span>
                                        <span class="opt-val">전체</span>
                                    </div>
                                    <div class="option">
                                        <input class="s-c top" type="radio" name="category" value="카페">
                                        <input class="s-c bottom" type="radio" name="category" value="카페">
                                        <span class="label">Cafe</span>
                                        <span class="opt-val">Cafe</span>
                                    </div>
                                    <div class="option">
                                        <input class="s-c top" type="radio" name="category" value="밥">
                                        <input class="s-c bottom" type="radio" name="category" value="밥">
                                        <span class="label">밥</span>
                                        <span class="opt-val">밥</span>
                                    </div>
                                    <div class="option">
                                        <input class="s-c top" type="radio" name="category" value="분식">
                                        <input class="s-c bottom" type="radio" name="category" value="분식">
                                        <span class="label">분식</span>
                                        <span class="opt-val">분식</span>
                                    </div>
                                    <div class="option">
                                        <input class="s-c top" type="radio" name="category" value="음료">
                                        <input class="s-c bottom" type="radio" name="category" value="음료">
                                        <span class="label">음료</span>
                                        <span class="opt-val">음료</span>
                                    </div>
                                    <div class="option">
                                        <input class="s-c top" type="radio" name="category" value="라면">
                                        <input class="s-c bottom" type="radio" name="category" value="라면">
                                        <span class="label">라면</span>
                                        <span class="opt-val">라면</span>
                                    </div>
                                    <div class="option">
                                        <input class="s-c top" type="radio" name="category" value="튀김">
                                        <input class="s-c bottom" type="radio" name="category" value="튀김">
                                        <span class="label">튀김</span>
                                        <span class="opt-val">튀김</span>
                                    </div>
                                    <div id="option-bg"></div>
                                </div>
                            </div>

                            <button type="submit" class="btn searchBtn">검색</button>
                        </div>
                    </div>

                    <div class="foodList">
                        <div class="cards">
                            <div class="card" th:each="dto : ${responseDTO.dtoList}">
                                <div class="card__inner">
                                    <div class="card__image">
                                        <img th:src="|/food/view/${dto.fileName}|" th:alt="${dto.foodNum}" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button type="button" class="foodInsert">음식 추가하기</button>
                    </div>

                    <div id="pag-cover">
                        <div id="pg-links">
                            <div class="arrow foodPage" id="l-arrow" th:if="${responseDTO.prev}"><a th:data-num="${responseDTO.start - 1}"><i class="fas fa-chevron-circle-left"></i></a></div>
                            <div class="td">
                                <div id="links">
                                    <div th:class="${responseDTO.page == i} ? 'pg-link foodPage pg-link-active' : 'pg-link foodPage'" th:each="i : ${#numbers.sequence(responseDTO.start, responseDTO.end)}">
                                        <a th:data-num="${i}">[[${i}]]</a>
                                    </div>
                                </div>
                            </div>
                            <div class="arrow foodPage" id="r-arrow" th:if="${responseDTO.next}"><a th:data-num="${responseDTO.end + 1}"><i class="fas fa-chevron-circle-right"></i></a></div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <!-- partial -->
    </div>

    <script layout:fragment="script">
        const result = '[[${result}]]';

        if(result === 'foodRemove'){
            alert("성공적으로 삭제되었습니다!")
            window.opener.location.reload();
            self.close();
        }
    </script>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>
    <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js'></script>
    <script src="https://kit.fontawesome.com/f21f7d3508.js" crossorigin="anonymous"></script>
    <script src='https://assets.codepen.io/16327/Flip.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js'></script>
    <script th:src="@{/js/admin.js}"></script>
    <script th:src="@{/js/adminFood.js}"></script>
</div>
</html>